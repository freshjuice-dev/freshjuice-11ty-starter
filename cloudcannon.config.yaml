# CloudCannon configuration
# See: https://cloudcannon.com/documentation/articles/setting-up-a-cloudcannon-configuration-file/

# Build configuration
source: src
output: _site

collections_config:
  pages:
    path: pages
    output: true
    icon: wysiwyg
    name: Pages
    description: Site pages
    glob:
      - "!**/*.json"
    _enabled_editors:
      - visual
      - content
      - data
    add_options:
      - name: Add New Page
        schema: default
    schemas:
      default:
        path: .cloudcannon/schemas/page.yaml
        name: Standard Page
      landing:
        path: .cloudcannon/schemas/landing.yaml
        name: Landing Page

  legal:
    path: legal
    output: true
    icon: gavel
    name: Legal Pages
    singular_name: Legal Page
    description: Privacy policy, terms of service, etc.
    glob:
      - "!**/*.json"
    _enabled_editors:
      - content
      - data
    _inputs:
      layout:
        hidden: true
    add_options:
      - name: Add New Legal Page
        schema: default
    schemas:
      default:
        path: .cloudcannon/schemas/legal.md

  blog:
    path: blog
    output: true
    icon: post_add
    name: Blog
    description: Blog posts
    glob:
      - "!**/*.json"
    _enabled_editors:
      - content
      - data
    _inputs:
      layout:
        hidden: true
    add_options:
      - name: Add New Post
        schema: default
    schemas:
      default:
        path: .cloudcannon/schemas/post.md

  authors:
    path: authors
    output: true
    icon: people
    name: Authors
    description: Blog authors
    glob:
      - "!**/*.json"
    _enabled_editors:
      - data
    _inputs:
      layout:
        hidden: true
    add_options:
      - name: Add New Author
        schema: default
    schemas:
      default:
        path: .cloudcannon/schemas/author.md

  general:
    path: _data
    glob:
      - metadata.yaml
      - socials.yaml
      - header.yaml
      - footer.yaml
    output: false
    icon: settings
    name: General
    description: Site settings, header and footer
    preview:
      text:
        - key: _name
      subtext:
        - key: _description
      icon:
        - key: _icon
        - settings
    _enabled_editors:
      - data
    disable_add: true
    disable_add_folder: true

  advanced:
    path: _data
    glob:
      - tracking.yaml
      - consent.yaml
      - mida.yaml
      - robots.yaml
      - redirects.yaml
      - scripts_head.yaml
      - scripts_body.yaml
      - scripts_footer.yaml
    output: false
    icon: settings_ethernet
    name: Advanced
    description: Advanced settings for power users
    preview:
      text:
        - key: _name
      subtext:
        - key: _description
      icon:
        - key: _icon
        - code
    _enabled_editors:
      - data
    disable_add: true
    disable_add_folder: true

data_config:
  authors:
    path: authors

collection_groups:
  - heading: Content
    collections:
      - blog
      - pages
      - legal
  - heading: People
    collections:
      - authors
  - heading: Website Settings
    collections:
      - general
      - advanced

_structures:
  social_links:
    values:
      - value:
          network:
          url:
        preview:
          text: network
          icon: share
        _inputs:
          network:
            type: select
            label: Network
            options:
              values:
                - x
                - facebook
                - instagram
                - linkedin
                - github
                - youtube
                - tiktok
                - discord
                - twitch
                - pinterest
                - dribbble
                - behance
                - medium
                - reddit
                - whatsapp
                - telegram
                - snapchat
                - threads
                - bluesky
                - mastodon
          url:
            type: url
            label: URL

  menu_links:
    values:
      - value:
          label:
          url:
        preview:
          text: Link
          icon: link
        _inputs:
          label:
            type: text
            label: Label
          url:
            type: url
            label: URL

  section_links:
    values:
      - value:
          label:
          url:
        preview:
          text: Link
          icon: link
        _inputs:
          label:
            type: text
            label: Label
          url:
            type: url
            label: URL

  quick_links:
    values:
      - value:
          label:
          url:
          icon:
          class:
        preview:
          text: Link
          icon: link
        _inputs:
          label:
            type: text
            label: Label
          url:
            type: url
            label: URL
          icon:
            type: text
            label: Icon
            comment: "[Phosphor](https://phosphoricons.com/) icon name (e.g., github-logo, map-trifold)"
          class:
            type: text
            label: CSS Class
            comment: Custom class for triggers (e.g., cookie consent)

  cta_button:
    values:
      - value:
          _icon: ads_click
          label:
          url:
          icon:
        preview:
          icon:
            - key: _icon
            - ads_click
        _inputs:
          label:
            type: text
            label: Button Text
          url:
            type: url
            label: URL
          icon:
            type: text
            label: Icon
            comment: "[Phosphor](https://phosphoricons.com/) icon name (e.g., rocket-launch, arrow-right)"

  blocks:
    style: modal
    values:
      - label: Hero
        icon: view_carousel
        value:
          _id: hero
          heading:
          subheading:
          background_image:
          alignment: center
          cta_buttons: []
        _inputs:
          heading:
            type: text
          subheading:
            type: textarea
          background_image:
            type: image
          alignment:
            type: select
            options:
              values:
                - left
                - center
                - right

      - label: Features
        icon: grid_view
        value:
          _id: features
          section_title:
          section_description:
          columns: 3
          features: []
        _inputs:
          columns:
            type: select
            options:
              values:
                - 2
                - 3
                - 4

      - label: Call to Action
        icon: campaign
        value:
          _id: cta
          heading:
          text:
          background_color: primary
          buttons: []
        _inputs:
          background_color:
            type: select
            options:
              values:
                - primary
                - dark
                - light

      - label: Testimonials
        icon: format_quote
        value:
          _id: testimonials
          section_title:
          layout: grid
          testimonials: []
        _inputs:
          layout:
            type: select
            options:
              values:
                - grid
                - slider

      - label: Content
        icon: article
        value:
          _id: content
          content:
          sidebar: false
          sidebar_content:
        _inputs:
          content:
            type: markdown
          sidebar:
            type: switch
          sidebar_content:
            type: markdown

_inputs:
  layout:
    type: select
    label: Layout
    options:
      preview:
        text:
          - key: label
      value_key: value
      values:
        - label: Standard Page
          value: layouts/base.njk
        - label: Blog Post
          value: layouts/post.njk
        - label: Legal Page
          value: layouts/legal.njk
        - label: Landing Page
          value: layouts/landing.njk

  title:
    type: text
    label: Title

  description:
    type: textarea
    label: Description

  image:
    type: image
    label: Image

  date:
    type: datetime
    label: Date

  author:
    type: select
    label: Author
    options:
      values: data.authors
      value_key: slug

  tags:
    type: multiselect
    label: Tags
    options:
      allow_create: true

  blocks:
    type: array
    label: Page Blocks
    options:
      structures: _structures.blocks

  content:
    type: markdown
    label: Content
    options:
      bold: true
      italic: true
      link: true
      heading: true
      bulletedlist: true
      numberedlist: true
      code: true
      blockquote: true
      horizontalrule: true
      image: true
      table: true

  permalink:
    type: text
    label: Permalink
    comment: "Custom URL path (e.g., /blog/my-custom-slug/)"

  noindex:
    type: switch
    label: Exclude from Search Engines
    comment: Hide this page from search engines

  llms_exclude:
    type: switch
    label: Exclude from LLMs
    comment: Hide this page from LLM text files

  # General settings inputs - Metadata
  site_name:
    type: text
    label: Site Name

  site_description:
    type: textarea
    label: Site Description

  site_url:
    type: url
    label: Site URL
    comment: "Full URL including https://"

  default_image:
    type: image
    label: Default OG Image
    comment: Used when page has no image

  locale:
    type: text
    label: Locale
    comment: "e.g., en, de, fr"

  language:
    type: text
    label: Language
    comment: "e.g., en-US, de-DE"

  # General settings inputs - Socials
  profiles:
    type: array
    label: Profiles
    options:
      structures: _structures.social_links

  # General settings inputs - Tracking
  google_site_verification:
    type: text
    label: Google Search Console
    comment: "Site verification code"

  bing_site_verification:
    type: text
    label: Bing Webmaster Tools
    comment: "Site verification code"

  google_analytics_id:
    type: text
    label: Google Analytics 4
    comment: "e.g., G-XXXXXXXXXX"

  google_tag_manager_id:
    type: text
    label: Google Tag Manager
    comment: "e.g., GTM-XXXXXXX"

  facebook_pixel_id:
    type: text
    label: Facebook Pixel
    comment: "e.g., 1234567890"

  microsoft_clarity_id:
    type: text
    label: Microsoft Clarity
    comment: "e.g., abcdefghij"

  bing_uet_id:
    type: text
    label: Bing UET
    comment: "e.g., 12345678"

  hubspot_id:
    type: text
    label: HubSpot
    comment: "e.g., 12345678"

  # General settings inputs - Cookie Consent
  onetrust_id:
    type: text
    label: OneTrust ID
    comment: "e.g., 01234567-89ab-cdef-0123-456789abcdef"

  onetrust_auto_block:
    type: switch
    label: OneTrust Auto-Block
    comment: Automatically block cookies until consent

  cookiebot_id:
    type: text
    label: CookieBot ID
    comment: "e.g., 01234567-89ab-cdef-0123-456789abcdef"

  cookiebot_mode:
    type: select
    label: CookieBot Mode
    options:
      values:
        - auto
        - manual

  # General settings inputs - Mida A/B Testing
  project_key:
    type: text
    label: Project Key
    comment: "Get your key from mida.so/dashboard"

  server_location:
    type: select
    label: Server Location
    comment: "Use EU for GDPR compliance"
    options:
      values:
        - us
        - eu

  antiflicker_enabled:
    type: switch
    label: Enable Anti-Flicker
    comment: Prevents content flash during experiment loading

  antiflicker_timeout:
    type: number
    label: Anti-Flicker Timeout
    comment: "Timeout in milliseconds (default: 3000)"

  strict_consent_mode:
    type: switch
    label: Strict Consent Mode
    comment: "Requires explicit consent via mida.grantConsent()"

  code:
    type: code
    label: Code
    options:
      syntax: html

  # Robots inputs
  crawler_rules:
    type: textarea
    label: Crawler Rules
    comment: "e.g., User-agent, Allow, Disallow"

  # Redirects inputs
  rules:
    type: textarea
    label: Rules
    comment: "Format: /from /to status-code"

  # Header inputs
  menu:
    type: array
    label: Menu
    comment: Main navigation links displayed in the header
    options:
      structures: _structures.menu_links

  show_search:
    type: switch
    label: Show Search
    comment: Display search icon in header and mobile menu

  cta:
    type: object
    label: Call to Action
    comment: Primary action button in the header
    options:
      structures: _structures.cta_button

  # Shared inputs
  logo:
    type: image
    label: Logo

  # Footer inputs

  name:
    type: text
    label: Company Name
    comment: Displayed next to the logo (leave empty to hide)

  tagline:
    type: html
    label: Tagline
    comment: Short description displayed in the footer

  show_socials:
    type: switch
    label: Show Social Icons
    comment: Display social media links in footer

  sections:
    type: array
    label: Footer Menu
    comment: Menu groups with links at the bottom of every page

  links:
    type: array
    label: Links
    options:
      structures: _structures.section_links

  quick_links:
    type: array
    label: Quick Links
    comment: Small links in the footer bar (Sitemap, Privacy Settings, etc.)
    options:
      structures: _structures.quick_links

  copyright:
    type: text
    label: Copyright
    comment: Copyright text displayed in the footer

  show_credits:
    type: switch
    label: Show Credits
    comment: "Spread the juice! Show some love for FreshJuice üçä"

_editables:
  content:
    bold: true
    italic: true
    link: true
    blockquote: true
    bulletedlist: true
    numberedlist: true
    code: true
    horizontalrule: true
    image: true
    table: true

paths:
  uploads: src/assets/images
  dam_uploads: src/assets/images

timezone: Etc/UTC
