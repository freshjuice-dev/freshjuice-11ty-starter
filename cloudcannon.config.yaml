# CloudCannon configuration
# See: https://cloudcannon.com/documentation/articles/setting-up-a-cloudcannon-configuration-file/

# Build configuration
source: src
output: _site

collections_config:
  pages:
    path: pages
    output: true
    icon: wysiwyg
    name: Pages
    description: Site pages
    _enabled_editors:
      - visual
      - content
      - data
    add_options:
      - name: Add New Page
        schema: default
    schemas:
      default:
        path: .cloudcannon/schemas/page.yaml
        name: Standard Page
      landing:
        path: .cloudcannon/schemas/landing.yaml
        name: Landing Page

  blog:
    path: blog
    output: true
    icon: post_add
    name: Blog
    description: Blog posts
    _enabled_editors:
      - content
      - data
    add_options:
      - name: Add New Post
        schema: default
    schemas:
      default:
        path: .cloudcannon/schemas/post.yaml

  authors:
    path: authors
    output: true
    icon: people
    name: Authors
    description: Blog authors
    _enabled_editors:
      - data
    add_options:
      - name: Add New Author
        schema: default
    schemas:
      default:
        path: .cloudcannon/schemas/author.yaml

  metadata:
    path: _data
    glob: meta.yaml
    output: false
    icon: language
    name: Metadata
    description: Site metadata and SEO settings
    _enabled_editors:
      - data
    disable_add: true
    disable_add_folder: true

  tracking:
    path: _data
    glob: tracking.yaml
    output: false
    icon: analytics
    name: Tracking
    description: Analytics and tracking IDs (GA4, GTM, etc.)
    _enabled_editors:
      - data
    disable_add: true
    disable_add_folder: true

  scripts:
    path: _data
    glob: scripts.yaml
    output: false
    icon: code
    name: Custom Scripts
    description: Inject custom scripts into head, body, or footer
    _enabled_editors:
      - data
    disable_add: true
    disable_add_folder: true

  cookies:
    path: _data
    glob: cookies.yaml
    output: false
    icon: cookie
    name: Cookie Consent
    description: Cookie consent settings (OneTrust, CookieBot)
    _enabled_editors:
      - data
    disable_add: true
    disable_add_folder: true

  navigation:
    path: _data
    glob: navigation.yaml
    output: false
    icon: menu
    name: Main Navigation
    description: Site navigation menus
    _enabled_editors:
      - data
    disable_add: true
    disable_add_folder: true

  footer_settings:
    path: _data
    glob: footer.yaml
    output: false
    icon: view_agenda
    name: Footer
    description: Footer content and links
    _enabled_editors:
      - data
    disable_add: true
    disable_add_folder: true

data_config:
  authors:
    path: authors

collection_groups:
  - heading: Content
    collections:
      - pages
      - blog
  - heading: People
    collections:
      - authors
  - heading: Website Settings
    collections:
      - metadata
      - tracking
      - scripts
      - cookies
  - heading: Navigation
    collections:
      - navigation
      - footer_settings

_structures:
  blocks:
    style: modal
    values:
      - label: Hero
        icon: view_carousel
        value:
          _id: hero
          heading:
          subheading:
          background_image:
          alignment: center
          cta_buttons: []
        _inputs:
          heading:
            type: text
          subheading:
            type: textarea
          background_image:
            type: image
          alignment:
            type: select
            options:
              values:
                - left
                - center
                - right

      - label: Features
        icon: grid_view
        value:
          _id: features
          section_title:
          section_description:
          columns: 3
          features: []
        _inputs:
          columns:
            type: select
            options:
              values:
                - 2
                - 3
                - 4

      - label: Call to Action
        icon: campaign
        value:
          _id: cta
          heading:
          text:
          background_color: primary
          buttons: []
        _inputs:
          background_color:
            type: select
            options:
              values:
                - primary
                - dark
                - light

      - label: Testimonials
        icon: format_quote
        value:
          _id: testimonials
          section_title:
          layout: grid
          testimonials: []
        _inputs:
          layout:
            type: select
            options:
              values:
                - grid
                - slider

      - label: Content
        icon: article
        value:
          _id: content
          content:
          sidebar: false
          sidebar_content:
        _inputs:
          content:
            type: markdown
          sidebar:
            type: switch
          sidebar_content:
            type: markdown

_inputs:
  title:
    type: text
    label: Title

  description:
    type: textarea
    label: Description

  image:
    type: image
    label: Image

  date:
    type: datetime
    label: Date

  author:
    type: select
    label: Author
    options:
      values: data.authors

  tags:
    type: multiselect
    label: Tags
    options:
      allow_create: true

  blocks:
    type: array
    label: Page Blocks
    options:
      structures: _structures.blocks

  content:
    type: markdown
    label: Content
    options:
      bold: true
      italic: true
      link: true
      heading: true
      bulletedlist: true
      numberedlist: true
      code: true
      blockquote: true
      horizontalrule: true
      image: true
      table: true

  noindex:
    type: switch
    label: Exclude from Search Engines
    comment: Hide this page from search engines

  llms_exclude:
    type: switch
    label: Exclude from LLMs
    comment: Hide this page from LLM text files

_editables:
  content:
    bold: true
    italic: true
    link: true
    blockquote: true
    bulletedlist: true
    numberedlist: true
    code: true
    horizontalrule: true
    image: true
    table: true

paths:
  uploads: src/assets/images
  dam_uploads: src/assets/images

timezone: Etc/UTC
