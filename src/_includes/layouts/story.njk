---
layout: layouts/base.njk
---
{% from "_components/index.njk" import badge %}

<article class="py-12 lg:py-20">
  <div class="container mx-auto px-4 max-w-4xl">
    {# Back Navigation #}
    <nav class="mb-8">
      <a href="/stories/" class="group inline-flex items-center gap-1.5 text-sm text-gray-500 hover:text-primary-600 transition-colors">
        <span class="transition-transform group-hover:-translate-x-1">{% phosphor "arrow-left", "bold", { size: 14 } %}</span>
        <span>Back to Customer Stories</span>
      </a>
    </nav>

    <header class="mb-12">
      {# Industry Badge #}
      {% if industry %}
      <div class="mb-4" data-cms-bind="#industry">
        {{ badge({ text: industry, variant: "secondary" }) }}
      </div>
      {% endif %}

      {# Title #}
      <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4" data-cms-bind="#title">{{ title }}</h1>

      {% if description %}
      <p class="text-xl text-gray-600 mb-6" data-cms-bind="#description">{{ description }}</p>
      {% endif %}

      {# Company Info #}
      <div class="flex items-center gap-4">
        {% if company_logo %}
        <img src="{{ company_logo }}" alt="{{ company }} logo" class="h-10 w-auto object-contain" data-cms-bind="#company_logo">
        {% endif %}
        {% if company %}
        <span class="text-lg font-medium text-gray-900" data-cms-bind="#company">{{ company }}</span>
        {% endif %}
      </div>
    </header>

    {# Key Metrics #}
    {% if metrics and metrics.length %}
    <div class="grid grid-cols-2 md:grid-cols-{{ metrics | length if metrics | length <= 4 else 4 }} gap-6 p-6 bg-gradient-to-br from-primary-50 to-orange-50 rounded-2xl mb-12" data-cms-bind="#metrics">
      {% for metric in metrics %}
      <div class="text-center" data-cms-bind="#metrics[{{ loop.index0 }}]">
        <div class="text-3xl md:text-4xl font-bold text-primary-600 mb-1" data-cms-bind="#metrics[{{ loop.index0 }}].value">{{ metric.value }}</div>
        <div class="text-sm text-gray-600" data-cms-bind="#metrics[{{ loop.index0 }}].label">{{ metric.label }}</div>
      </div>
      {% endfor %}
    </div>
    {% endif %}

    {# Featured Image #}
    {% if image %}
    <figure class="mb-12 -mx-4 lg:mx-0">
      <img src="{{ image }}" alt="{{ image_alt or title }}" class="w-full rounded-lg" loading="lazy" data-cms-bind="#image">
    </figure>
    {% endif %}

    {# Main Content #}
    <div class="prose prose-lg max-w-none prose-headings:font-bold prose-a:text-primary-600 prose-a:no-underline hover:prose-a:underline editable">
      {{ content | safe }}
    </div>

    {# Quote/Testimonial #}
    {% if quote %}
    <blockquote class="my-12 p-8 bg-gray-50 border-l-4 border-primary-500" data-cms-bind="#quote">
      <p class="text-xl italic text-gray-700 mb-4">"{{ quote }}"</p>
      {% if quote_author %}
      <footer class="flex items-center gap-3">
        {% if quote_author_image %}
        <img src="{{ quote_author_image }}" alt="{{ quote_author }}" class="w-12 h-12 rounded-full object-cover" data-cms-bind="#quote_author_image">
        {% endif %}
        <div>
          <div class="font-semibold text-gray-900" data-cms-bind="#quote_author">{{ quote_author }}</div>
          {% if quote_author_title %}
          <div class="text-sm text-gray-500" data-cms-bind="#quote_author_title">{{ quote_author_title }}{% if company %}, {{ company }}{% endif %}</div>
          {% endif %}
        </div>
      </footer>
      {% endif %}
    </blockquote>
    {% endif %}

    {# CTA #}
    <div class="mt-12 p-8 bg-gray-900 rounded-2xl text-center">
      <h2 class="text-2xl font-bold text-white mb-2">Ready to write your success story?</h2>
      <p class="text-gray-400 mb-6">Let's discuss how we can help your business achieve similar results.</p>
      <a href="/contact/" class="btn btn--white">Get in Touch</a>
    </div>
  </div>
</article>
