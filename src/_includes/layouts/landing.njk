---
layout: layouts/base.njk
---
{% from "_blocks/hero.njk" import hero %}
{% from "_blocks/features.njk" import features %}
{% from "_blocks/cta.njk" import cta %}
{% from "_blocks/testimonials.njk" import testimonials %}
{% from "_blocks/content.njk" import contentBlock %}

{% for block in blocks %}
  {# Pass _index for CloudCannon editable region binding #}
  {% set blockWithIndex = block | setAttribute("_index", loop.index0) %}
  {% if block._id === 'hero' %}
    {{ hero(blockWithIndex) }}
  {% elif block._id === 'features' %}
    {{ features(blockWithIndex) }}
  {% elif block._id === 'cta' %}
    {{ cta(blockWithIndex) }}
  {% elif block._id === 'testimonials' %}
    {{ testimonials(blockWithIndex) }}
  {% elif block._id === 'content' %}
    {{ contentBlock(blockWithIndex) }}
  {% endif %}
{% endfor %}

{{ content | safe }}
